package me.gamrboy4life.paradox.module.combat;

import me.gamrboy4life.paradox.module.Category;
import me.gamrboy4life.paradox.module.Module;
import net.minecraft.client.Minecraft;
import net.minecraft.entity.EntityLivingBase;

public class Reach extends Module {

    public Reach() {
        super("Reach", 0, Category.COMBAT);
    }

    @Override
    public void onUpdate() {
        if (!this.isToggled())
            return;

        // プレイヤーの視線の先にあるエンティティを取得
        Entity targetEntity = Minecraft.getMinecraft().objectMouseOver != null ? Minecraft.getMinecraft().objectMouseOver.entityHit : null;

        // エンティティが生きている場合
        if (targetEntity instanceof EntityLivingBase && targetEntity.isEntityAlive()) {
            // プレイヤーがエンティティを攻撃
            Minecraft.getMinecraft().playerController.attackEntity(Minecraft.getMinecraft().thePlayer, targetEntity);
            Minecraft.getMinecraft().player.swingArm(EnumHand.MAIN_HAND);
        }

        super.onUpdate();
    }
}