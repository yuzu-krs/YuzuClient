package me.gamrboy4life.paradox.mods.impl;

import me.gamrboy4life.paradox.gui.hud.ScreenPosition;
import me.gamrboy4life.paradox.mods.ModDraggable;
import net.minecraft.client.Minecraft;
import net.minecraft.client.gui.FontRenderer;

import java.time.LocalTime;
import java.time.format.DateTimeFormatter;

public class ModCurrentTime extends ModDraggable {
    private FontRenderer font;

    public ModCurrentTime() {
        this.font = Minecraft.getMinecraft().fontRendererObj;
    }

    @Override
    public int getWidth() {
        // 時刻の文字列の幅を取得
        return font.getStringWidth("00:00:00");
    }

    @Override
    public int getHeight() {
        // フォントの高さを取得
        return font.FONT_HEIGHT;
    }

    @Override
    public void render(ScreenPosition pos) {
        // 現在の時刻を取得
        LocalTime now = LocalTime.now();

        // 時刻を描画する
        font.drawString(now.format(DateTimeFormatter.ofPattern("HH:mm:ss")), pos.getAbsoluteX(), pos.getAbsoluteY(), -1);
    }

    @Override
    public void renderDummy(ScreenPosition pos) {
        // ダミーデータとして時刻を描画する
        font.drawString("00:00:00", pos.getAbsoluteX(), pos.getAbsoluteY(), -1);
    }

    @Override
    public boolean isEnabled() {
        return true; // 常に有効な状態とする
    }
}