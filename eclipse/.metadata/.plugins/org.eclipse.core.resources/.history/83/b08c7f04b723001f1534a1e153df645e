package me.gamrboy4life.paradox.module.render;

import org.lwjgl.opengl.GL11;

import me.gamrboy4life.paradox.module.Category;
import me.gamrboy4life.paradox.module.Module;
import me.gamrboy4life.paradox.utils.Wrapper;
import net.minecraft.client.renderer.RenderHelper;
import net.minecraft.init.Items;
import net.minecraft.item.ItemStack;

public class ArmorStatus extends Module{

	public ArmorStatus() {
		super("ArmorStatus",0,Category.RENDER);
	}
	
	@Override
	public void onRender() {
		if(this.isToggled()) {
			
			for(int i=0;i<mc.thePlayer.inventory.armorInventory.length;i++) {
				ItemStack itemStack=mc.thePlayer.inventory.armorInventory[i];
				renderItemStack(i,itemStack);
			}
			
		}
	}
	
	private void renderDummy() {
		renderItemStack(3,new ItemStack(Items.diamond_helmet));
		renderItemStack(2,new ItemStack(Items.diamond_chestplate));
		renderItemStack(1,new ItemStack(Items.diamond_leggings));
		renderItemStack(0,new ItemStack(Items.diamond_boots));
	}

	private void renderItemStack(int i, ItemStack is) {
		if(is==null) {
			return;
		}
		
		GL11.glPushMatrix();
		int yAdd=(-16*i)+48;
		
		if(is.getItem().isDamageable()) {
			double damage=((is.getMaxDamage()-is.getItemDamage())/(double)is.getMaxDamage())*100;
			Wrapper.fr.drawString(String.format("%.2f%%",damage), 100, 4+yAdd, -1);
		}
		
		RenderHelper.enableGUIStandardItemLighting();
		mc.getRenderItem().renderItemAndEffectIntoGUI(is, 100, 4+yAdd);
		
		GL11.glPopMatrix();
		

	}
}
