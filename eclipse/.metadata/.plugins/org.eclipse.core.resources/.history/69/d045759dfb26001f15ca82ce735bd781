package me.gamrboy4life.paradox.module.combat;

import java.awt.event.InputEvent;

import org.lwjgl.input.Keyboard;
import org.lwjgl.input.Mouse;

import me.gamrboy4life.paradox.module.Category;
import me.gamrboy4life.paradox.module.Module;

public class Reach extends Module {

    public Reach() {
        super("Reach", 0, Category.COMBAT);
    }

    @Override
    public void onUpdate() {
        if (!this.isToggled())
            return;

        long currentTime = System.currentTimeMillis();
        boolean isCtrlPressed = Keyboard.isKeyDown(Keyboard.KEY_LCONTROL) || Keyboard.isKeyDown(Keyboard.KEY_RCONTROL);

        // マウスの戻るボタン
        if (Mouse.isButtonDown(3) && !isCtrlPressed) {
            if (currentTime - lastClickTime >= 50) { // 50ミリ秒ごとにクリックを許可
                System.out.println("Mouse back button is pressed");
                // 左クリックをシミュレート
                robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);
                lastClickTime = currentTime; // 最後にクリックした時刻を更新
            }
        }

        super.onUpdate();
    }
}