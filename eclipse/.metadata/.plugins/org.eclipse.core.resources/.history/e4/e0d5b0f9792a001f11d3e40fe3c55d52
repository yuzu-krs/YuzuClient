package me.gamrboy4life.paradox.command.commands;

import me.gamrboy4life.paradox.command.Command;
import net.minecraft.client.Minecraft;
import net.minecraft.network.play.client.C01PacketChatMessage;

public class ChatSpam extends Command {
	
	public ChatSpam() {
		super("ChatSpam", "ChatSpamは、「.chatspam 数 任意の文字」でスパムを行える", "chatspam", "c");
	}
	
	@Override
	public void onCommand(String[] args, String command) {
		if (args.length < 2) {
			sendMessage("Usage: .chatspam <回数> <メッセージ>");
			return;
		}
		
		int spamCount;
		try {
			spamCount = Integer.parseInt(args[0]);
		} catch (NumberFormatException e) {
			sendMessage("Invalid number format for spam count.");
			return;
		}
		
		String message = String.join(" ", args).substring(args[0].length() + 1); // Join all args after the count
		
		for (int i = 0; i < spamCount; i++) {
			Minecraft.getMinecraft().thePlayer.sendQueue.addToSendQueue(new C01PacketChatMessage(message));
		}
	}	
}


	
		

