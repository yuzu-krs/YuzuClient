package me.gamrboy4life.paradox.module.combat;

import java.util.ArrayList;

import de.Hero.settings.Setting;
import me.gamrboy4life.paradox.Paradox;
import me.gamrboy4life.paradox.module.Category;
import me.gamrboy4life.paradox.module.Module;
import net.minecraft.client.entity.EntityPlayerSP;
import net.minecraft.entity.EntityLivingBase;

public class Reach extends Module {

    private double reach;

    public Reach() {
        super("Reach", 0, Category.COMBAT);
    }

    @Override
    public void setup() {
    	reach = Paradox.instance.settingsManager.getSettingByName("Reach Length").getValDouble();
            ArrayList<String> options = new ArrayList<String>();
        options.add("Reach Length");
        Paradox.instance.settingsManager.rSetting(new Setting("Reach Length", this, reach, 1, 10, false));
    }

    @Override
    public void onUpdate() {
        if (this.isToggled()) {
            reach = Paradox.instance.settingsManager.getSettingByName("Reach Length").getValDouble();
            for (Object object : mc.theWorld.loadedEntityList) {
                if (object instanceof EntityLivingBase) {
                    EntityLivingBase entity = (EntityLivingBase) object;
                    if (!(entity instanceof EntityPlayerSP) && mc.thePlayer.getDistanceToEntity(entity) <= reach) {
                        mc.playerController.attackEntity(mc.thePlayer, entity);
                        mc.thePlayer.swingItem();
                    }
                }
            }
        }
    }
}